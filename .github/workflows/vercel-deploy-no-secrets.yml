name: Vercel éƒ¨ç½²æŒ‡å—

on:
  # æ‰‹åŠ¨è§¦å‘éƒ¨ç½²
  workflow_dispatch:
    inputs:
      action:
        description: 'é€‰æ‹©æ“ä½œ'
        required: true
        default: 'show-instructions'
        type: choice
        options:
        - show-instructions
        - test-deployment
        - manual-trigger

jobs:
  deploy-guide:
    runs-on: ubuntu-latest
    steps:
      - name: æ£€å‡ºä»£ç 
        uses: actions/checkout@v4

      - name: æ˜¾ç¤ºéƒ¨ç½²è¯´æ˜Ž
        run: |
          echo "ðŸš€ Vercel éƒ¨ç½²æŒ‡å—"
          echo "================================"
          echo ""
          echo "ðŸ“‹ æŽ¨èéƒ¨ç½²æ–¹å¼ï¼š"
          echo ""
          echo "1ï¸âƒ£ æ–¹å¼ä¸€ï¼šVercel Dashboard å¯¼å…¥ï¼ˆæœ€ç®€å•ï¼‰"
          echo "   - è®¿é—®ï¼šhttps://vercel.com/dashboard"
          echo "   - ç‚¹å‡» 'Add New...' â†’ 'Project'"
          echo "   - å¯¼å…¥æ­¤ GitHub ä»“åº“"
          echo "   - é…ç½®ï¼šFramework Preset = Other"
          echo "   - æž„å»ºå‘½ä»¤ï¼šç•™ç©º"
          echo "   - è¾“å‡ºç›®å½•ï¼šç•™ç©º"
          echo "   - å®‰è£…å‘½ä»¤ï¼špip install -r requirements.txt"
          echo "   - ç‚¹å‡» Deploy"
          echo ""
          echo "2ï¸âƒ£ æ–¹å¼äºŒï¼šè‡ªåŠ¨éƒ¨ç½²ï¼ˆæŽ¨é€ä»£ç è‡ªåŠ¨è§¦å‘ï¼‰"
          echo "   - éœ€è¦åœ¨ GitHub è®¾ç½®ä¸­æ·»åŠ  Secretsï¼š"
          echo "   - VERCEL_TOKEN"
          echo "   - VERCEL_ORG_ID"
          echo "   - VERCEL_PROJECT_ID"
          echo ""
          echo "3ï¸âƒ£ æ–¹å¼ä¸‰ï¼šæ‰‹åŠ¨è§¦å‘ï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰"
          echo "   - è¿›å…¥ Vercel é¡¹ç›® Dashboard"
          echo "   - ç‚¹å‡» 'Deployments'"
          echo "   - ç‚¹å‡» 'Create Deployment'"
          echo "   - é€‰æ‹© main åˆ†æ”¯å¹¶éƒ¨ç½²"
          echo ""
          echo "================================"
          echo "ðŸŽ¯ å½“å‰çŠ¶æ€ï¼šå·²ä¿®å¤è‡ªåŠ¨éƒ¨ç½²é…ç½®"
          echo "âœ… ç§»é™¤äº†å¼ºåˆ¶ API å¯†é’¥è¦æ±‚"
          echo "âœ… å¥åº·æ£€æŸ¥ç«¯ç‚¹æ— éœ€é…ç½®"
          echo "âœ… æ”¯æŒå…è´¹æ–°é—»æº"
          
      - name: åˆ›å»ºéƒ¨ç½²æ£€æŸ¥æ¸…å•
        run: |
          cat > DEPLOYMENT_CHECKLIST.md << 'EOF'
          # âœ… Vercel éƒ¨ç½²æ£€æŸ¥æ¸…å•

          ## ç«‹å³æ£€æŸ¥

          - [ ] 1. è®¿é—® Vercel Dashboard: https://vercel.com/dashboard
          - [ ] 2. æ‰¾åˆ°ä½ çš„é¡¹ç›® 'upgraded-octo-fortnight'
          - [ ] 3. ç‚¹å‡»é¡¹ç›®è¿›å…¥è¯¦æƒ…é¡µ
          - [ ] 4. æ£€æŸ¥ 'Deployments' æ ‡ç­¾ - æ˜¯å¦æœ‰æˆåŠŸéƒ¨ç½²ï¼Ÿ
          - [ ] 5. å¦‚æžœæ²¡æœ‰ï¼Œç‚¹å‡» 'Create Deployment' æ‰‹åŠ¨è§¦å‘
          - [ ] 6. æµ‹è¯• API: è®¿é—® `https://your-project.vercel.app/api/health`

          ## è‡ªåŠ¨éƒ¨ç½²æ£€æŸ¥

          - [ ] 1. æŽ¨é€ä»£ç åˆ° main åˆ†æ”¯
          - [ ] 2. æŸ¥çœ‹ GitHub Actions æ˜¯å¦æœ‰æ–°è¿è¡Œ
          - [ ] 3. æŸ¥çœ‹ Vercel Dashboard æ˜¯å¦è‡ªåŠ¨éƒ¨ç½²
          - [ ] 4. æ£€æŸ¥éƒ¨ç½²çŠ¶æ€æ˜¯å¦ä¸º 'Ready'

          ## çŽ¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

          å¦‚æžœéœ€è¦å¢žå¼ºåŠŸèƒ½ï¼Œå¯æ·»åŠ ï¼š
          - `NEWSAPI_KEY` - NewsAPI.org å¯†é’¥
          - `BING_API_KEY` - Bing æœç´¢ API
          - `SERPAPI_KEY` - SerpAPI å¯†é’¥

          è®¾ç½®è·¯å¾„ï¼šé¡¹ç›® Settings â†’ Environment Variables

          ## å¸¸è§é—®é¢˜

          **é—®é¢˜ï¼šå¯¼å…¥åŽæ²¡æœ‰è‡ªåŠ¨éƒ¨ç½²**
          **è§£å†³ï¼š** æ‰‹åŠ¨ç‚¹å‡» 'Create Deployment' è§¦å‘é¦–æ¬¡éƒ¨ç½²

          **é—®é¢˜ï¼šéƒ¨ç½²å¤±è´¥**
          **è§£å†³ï¼š** æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—ï¼Œé€šå¸¸æ˜¯é…ç½®é—®é¢˜

          **é—®é¢˜ï¼šAPI è®¿é—®å¤±è´¥**
          **è§£å†³ï¼š** ç¡®è®¤éƒ¨ç½²çŠ¶æ€ä¸º 'Ready'ï¼Œæ£€æŸ¥åŸŸåé…ç½®
          EOF
          
          echo "ðŸ“‹ å·²åˆ›å»ºéƒ¨ç½²æ£€æŸ¥æ¸…å•ï¼šDEPLOYMENT_CHECKLIST.md"